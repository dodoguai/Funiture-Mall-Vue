(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11011f80"],{"25f0":function(e,t,o){"use strict";var r=o("6eeb"),s=o("825a"),a=o("d039"),l=o("ad6d"),n="toString",i=RegExp.prototype,m=i[n],p=a((function(){return"/a/b"!=m.call({source:"a",flags:"b"})})),c=m.name!=n;(p||c)&&r(RegExp.prototype,n,(function(){var e=s(this),t=String(e.source),o=e.flags,r=String(void 0===o&&e instanceof RegExp&&!("flags"in i)?l.call(e):o);return"/"+t+"/"+r}),{unsafe:!0})},"4c0a":function(e,t,o){"use strict";o("e3ac")},"578a":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-wrap"},[o("div",{staticClass:"ms-login"},[o("div",{staticClass:"ms-title"},[e._v("商城后台管理系统")]),0==e.tag?o("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.param,rules:e.rules,"label-width":"0px"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.param.username,callback:function(t){e.$set(e.param,"username",t)},expression:"param.username"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,"password",t)},expression:"param.password"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),o("el-form-item",{attrs:{prop:"imgCode"}},[o("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.param.imgCode,callback:function(t){e.$set(e.param,"imgCode",t)},expression:"param.imgCode"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1),o("img",{staticClass:"el-item-img",attrs:{src:"http://127.0.0.1:9001/system/admin/kaptcha/image-code/"+e.imgCode,alt:""},on:{click:e.freshImgCode}})],1),o("div",{staticClass:"login-btn"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("登录")])],1),o("p",{staticClass:"login-tips",staticStyle:{color:"blue"}},[e._v("没有账号，现在注册")])],1):e._e(),1==e.tag?o("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.form,rules:e.rules2,"label-width":"0px"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),o("el-form-item",[o("el-input",{attrs:{type:"email",placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),o("el-form-item",[o("el-input",{attrs:{type:"phone",placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),o("el-form-item",{attrs:{prop:"imgCode"}},[o("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.form.imgCode,callback:function(t){e.$set(e.form,"imgCode",t)},expression:"form.imgCode"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1),o("img",{staticClass:"el-item-img",attrs:{src:"http://127.0.0.1:9001/system/admin/kaptcha/image-code/"+e.imgCode,alt:""},on:{click:e.freshImgCode}})],1),o("div",{staticClass:"login-btn"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.register()}}},[e._v("注册")])],1)],1):e._e()],1)])},s=[],a=(o("d3b7"),o("25f0"),o("bc3a")),l=o.n(a);function n(e){var t=l.a.create({baseURL:"http://127.0.0.1:9000"}),o=l.a.create({baseURL:"http://127.0.0.1:9001"});return[t,o]}var i=n(),m={data:function(){return{tag:0,picture:{},imgCode:"",param:{imgCode:"",username:"",password:""},form:{username:"",password:"",password2:"",email:"",imgCode:"",imgCodeToken:"",phone:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],imgCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},rules2:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],imgCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){this.freshImgCode()},methods:{test:function(){var e=this;this.$axios({method:"get",url:"/system/admin/kaptcha/image-code/happy",data:{}}).then((function(t){e.yanzhengma=t,console.log(t)}))},register:function(){var e={username:this.form.username,password:this.form.password,email:this.form.email,imgCode:this.form.imgCode,imageCodeToken:this.imgCode,phone:this.form.phone};i[1]({method:"post",url:"/system/admin/user/register",data:e}).then((function(e){console.log(e)}))},freshImgCode:function(){this.imgCode=Math.random().toString(36).substr(5),console.log(this.imgCode)},submitForm:function(){var e=this;this.$refs.login.validate((function(t){if(!t)return e.$message.error("请输入账号和密码"),console.log("error submit!!"),!1;var o={username:e.param.username,password:e.param.password,imageCode:e.param.imgCode,imageCodeToken:e.imgCode};console.log(o),e.$axios({method:"post",url:"/system/admin/user/login",data:o}).then((function(t){0!=t.data.result?alert(t.data.usr_data):e.$message.success("登录成功"),console.log(t),console.log(t.data),console.log(t.data.result)})).catch((function(e){alert("error request")}))}))}}},p=m,c=(o("4c0a"),o("2877")),d=Object(c["a"])(p,r,s,!1,null,"110e53e3",null);t["default"]=d.exports},ad6d:function(e,t,o){"use strict";var r=o("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},e3ac:function(e,t,o){}}]);
//# sourceMappingURL=chunk-11011f80.918d6f90.js.map